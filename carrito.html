<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carrito - DAKOTA STORE</title>
<style>
body {font-family: Arial; background:#fff0f5; margin:0; padding:0; text-align:center;}
header {background:#ffc0cb; padding:15px; font-size:24px; font-weight:bold;}
.cart-items {max-width:800px; margin:30px auto; background:#fff; padding:20px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
.item {display:flex; align-items:center; justify-content:space-between; margin:15px 0; border-bottom:1px solid #ddd; padding-bottom:10px;}
.item img {width:80px; border-radius:8px;}
.item .info {flex:1; margin-left:15px; text-align:left;}
.btn-eliminar {background:#ff4d6d; color:#fff; border:none; border-radius:5px; padding:5px 10px; cursor:pointer;}
.btn-eliminar:hover {background:#cc0033;}
.btn-finalizar {display:inline-block; margin-top:20px; background:#ff69b4; color:#fff; padding:12px 20px; border-radius:10px; text-decoration:none; font-weight:bold; cursor:pointer;}
.btn-finalizar:hover {background:#e75480;}
</style>
</head>
<body>
<header>Carrito - DAKOTA STORE</header>

<section class="cart-items" id="cart-list">
  <h2>Tu carrito</h2>
  <!-- Productos dinámicos -->
</section>

<button class="btn-finalizar" onclick="window.location.href='pago.html'">Finalizar Compra</button>

<script>
let cart = localStorage.getItem("carrito") ? JSON.parse(localStorage.getItem("carrito")) : [];
const cartList = document.getElementById("cart-list");

function renderCart() {
  cartList.innerHTML = "<h2>Tu carrito</h2>";
  if(cart.length===0){
    cartList.innerHTML += "<p>Tu carrito está vacío.</p>";
    localStorage.setItem("cartCount",0);
    return;
  }
  cart.forEach((prod,index)=>{
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <img src="${prod.img}">
      <div class="info">
        <p>${prod.nombre}</p>
        <p>$${prod.precio}</p>
      </div>
      <button class="btn-eliminar" data-index="${index}">Eliminar</button>
    `;
    cartList.appendChild(div);
  });
  localStorage.setItem("cartCount",cart.length);
}

// Manejo del botón Eliminar
cartList.addEventListener("click", e=>{
  if(e.target.classList.contains("btn-eliminar")){
    const index = e.target.getAttribute("data-index");
    cart.splice(index,1);
    localStorage.setItem("carrito",JSON.stringify(cart));
    renderCart();
  }
});

renderCart();
</script>
</body>
</html>
